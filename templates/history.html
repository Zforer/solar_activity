{% extends "base.html" %}

{% block title %}–ò—Å—Ç–æ—Ä–∏—è —Å–æ–ª–Ω–µ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏{% endblock %}

{% block content %}
    <div class="page-header">
        <h2>–ò—Å—Ç–æ—Ä–∏—è —Å–æ–ª–Ω–µ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
        <p>–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ —Å 1749 –ø–æ 2024 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ–ª–Ω–µ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</p>
    </div>

    <form method="POST" class="history-form">
        <div class="form-group">
            <label for="year">–ì–æ–¥:</label>
            <div class="input-group">
                <input type="number" id="year" name="year" min="1749" max="2024"
                       value="{{ year if year else 2000 }}" required>
                <button type="submit" class="btn btn-primary">
                    <span class="icon">üîç</span>
                    <span>–ù–∞–π—Ç–∏</span>
                </button>
            </div>
        </div>
    </form>

    {% if error %}
        <div class="alert error">
            <p>{{ error }}</p>
        </div>
    {% endif %}

    {% if activity is not none %}
        <div class="result-card">
            <div class="result-header">
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h3>
                <div class="year-badge">{{ year }}</div>
            </div>

            <div class="result-content">
                <div class="activity-value">
                    <span class="label">–°–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</span>
                    <span class="value">{{ "%.2f"|format(activity) }}</span>
                </div>

                <div class="activity-scale">
                    <div class="scale-bar" style="width: {{ (activity / 300 * 100)|round(1) }}%"></div>
                    <div class="scale-labels">
                        <span>–ù–∏–∑–∫–∞—è</span>
                        <span>–°—Ä–µ–¥–Ω—è—è</span>
                        <span>–í—ã—Å–æ–∫–∞—è</span>
                    </div>
                </div>

                <div class="activity-description">
                    {% if activity < 50 %}
                        <p>–û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ø—è—Ç–µ–Ω.</p>
                    {% elif activity < 100 %}
                        <p>–ù–∏–∑–∫–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü–µ—Ä–∏–æ–¥ —Å–æ–ª–Ω–µ—á–Ω–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞.</p>
                    {% elif activity < 150 %}
                        <p>–£–º–µ—Ä–µ–Ω–Ω–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –ø–µ—Ä–∏–æ–¥.</p>
                    {% elif activity < 200 %}
                        <p>–í—ã—Å–æ–∫–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü–µ—Ä–∏–æ–¥ —Å–æ–ª–Ω–µ—á–Ω–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞.</p>
                    {% else %}
                        <p>–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ú–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø—è—Ç–Ω–∞ –∏ –≤—Å–ø—ã—à–∫–∏.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}